---
title: 读《7 周 7 语言》- Haskell
slug: notes-of-7-languages-in-7-weeks-haskell
date: 2020-04-11
description: 《7 周 7 语言》读书笔记
tags:
  - Note
  - 7 Languages in 7 Weeks
---

> 纯函数式
>
> 惰性处理
>
> 强类型静态类型
>
> 不会产生副作用，可以返回一个副作用并被延迟执行

安装使用 stack，然后换成清华源，IDE 用 VSCode + HIE

```haskell
0.1 + 0.2
-- 0.30000000000000004
4 * (2.0 + 1)
-- 12
"hello" ++ " world"
-- "hello world"
['a', 'b']
-- "ab"
if 5 == 5 then "true" else "false"
-- "true"
if (1) then "true" else "false"
-- error 强类型
"one" + 1
-- error

:set +t -- 打开 t 查看类型
4
-- 4
-- it :: Num p => p
:t 4 -- :t 查看类型
-- it :: Num p => p
```

函数

```hs
module Throwaway where

double x = x * 2 -- 自动类型推断 double :: Num a => a -> a
-- a 是一个类型变量，通过传入参数推断出类型 a，之后返回也是 a 类型
```

```hs
module Throwaway where

double :: Integer -> Integer
double x = x * 2 -- double 2.0 -- error
```

递归

```hs
let fact x = if x == 0 then 1 else fact (x - 1) * x -- fact :: (Eq p, Num p) => p -> p
```

模式匹配

```hs
factorial :: Integer -> Integer
factorial 0 = 1
factorial x = x * factorial (x - 1)
```

哨兵表达式

```hs
factorial :: Integer -> Integer
factorial x
  | x > 1 = x * factorial (x - 1)
  | otherwise = 1
```

